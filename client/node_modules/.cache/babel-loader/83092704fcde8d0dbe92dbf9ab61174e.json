{"ast":null,"code":"import _objectSpread from \"/home/neetu/mindfire-app/mindfire-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/neetu/mindfire-app/mindfire-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/neetu/mindfire-app/mindfire-app/client/src/components/user/User.js\";\nimport React, { useState, useEffect } from 'react';\nimport request from '../../utils/request';\nimport { makePaginationButtons } from '../../utils/utils';\nimport Header from '../header/Header';\nimport Moment from 'moment';\nimport SideNav from '../sideNav/SideNav';\nimport { toast } from 'react-toastify';\n\nfunction User() {\n  let _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  let _useState3 = useState({\n    limit: 10,\n    pgno: 1,\n    count: 0\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      page = _useState4[0],\n      setPage = _useState4[1];\n\n  let _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userData = _useState6[0],\n      setUserData = _useState6[1];\n\n  let _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      deleteUserId = _useState8[0],\n      setDeleteUserId = _useState8[1];\n\n  let _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      editUser = _useState10[0],\n      setEditUser = _useState10[1];\n\n  useEffect(() => {\n    request('GET', '/auth/getUser', {\n      params: {\n        limit: page.limit,\n        pgno: page.pgno\n      }\n    }).then(res => {\n      if (res.data.success) {\n        setState(res.data.user);\n        setPage(_objectSpread({}, page, {\n          count: res.data.count\n        }));\n      }\n    });\n  }, [setState, page.pgno, page.limit]);\n\n  function searchText(e) {\n    request('GET', '/auth/getUserWithSearch', {\n      params: {\n        text: e.target.value,\n        limit: 10,\n        pgno: 1\n      }\n    }).then(res => {\n      if (res.data.success) {\n        setState(res.data.user);\n      }\n    });\n  }\n\n  const deleteUser = () => {\n    request('DELETE', '/auth/deleteUser', {\n      params: {\n        id: deleteUserId\n      }\n    }).then(res => {\n      if (res.data.success) {\n        toast.success(res.data.message);\n        closeDeleteModal();\n        window.location.reload();\n      } else {\n        toast.error(res.data.message);\n      }\n    }).catch(err => toast.error(err));\n  };\n\n  function setPgno(pgno) {\n    setPage(_objectSpread({}, page, {\n      pgno\n    }));\n  }\n\n  console.log(\"userData\", userData, \"state\", state, \"deleteUserId\", deleteUserId);\n\n  const openInfoModal = data => {\n    request('POST', '/auth/getUserMoreData', {\n      params: {\n        id: data.user_id\n      }\n    }).then(res => {\n      setUserData(res.data.user);\n      document.getElementById(\"infoModal\").style.display = \"block\";\n    });\n  };\n\n  const closeInfoModal = () => {\n    document.getElementById(\"infoModal\").style.display = \"none\";\n  };\n\n  const openDeleteModal = item => {\n    setDeleteUserId(item.user_id);\n    document.getElementById(\"deleteModal\").style.display = \"block\";\n  };\n\n  const closeDeleteModal = () => {\n    document.getElementById(\"deleteModal\").style.display = \"none\";\n  };\n\n  const openEditModal = item => {\n    request('POST', '/auth/getUserMoreData', {\n      params: {\n        id: item.user_id\n      }\n    }).then(res => {\n      setEditUser(res.data.user);\n      document.getElementById(\"editModal\").style.display = \"block\";\n    });\n  };\n\n  const closeEditModal = () => {\n    document.getElementById(\"editModal\").style.display = \"none\";\n  };\n\n  let paginationButtons = page.count ? makePaginationButtons(Math.ceil(page.count / page.limit), page.pgno, setPgno) : [];\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(SideNav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cover\",\n    id: \"tab_1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"left-side free-product-list full-width db-network_deployed menu-network-deployed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"title-box title-dev\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Manage User\"), React.createElement(\"div\", {\n    className: \"market-form market-form-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"/static/images/search.svg\",\n    alt: \"Search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      searchText(e);\n    },\n    placeholder: \"Search\",\n    className: \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"table-section mt-3 p-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"data-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    cellSpacing: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    role: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Country\"), React.createElement(\"th\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Organisation Name\"), React.createElement(\"th\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Subscription Plan\"), React.createElement(\"th\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Created Date\"), React.createElement(\"th\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Info\"), React.createElement(\"th\", {\n    className: \"text-center\",\n    colSpan: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Action\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, state.map((user, i) => {\n    return React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, user.f_name + ' ' + user.l_name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"logo-icon\",\n      tooltip: user.country,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://www.countryflags.io/\".concat(user.sortname, \"/flat/64.png\"),\n      className: \"img-responsive ml-1\",\n      alt: 'Flag of ' + user.country,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, user.org_name), React.createElement(\"td\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, user.org_name), React.createElement(\"td\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, Moment(user.creation_date).format('DD-MM-YYYY')), React.createElement(\"td\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn-sm\",\n      tooltip: \"Click for Information\",\n      onClick: () => openInfoModal(user),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-info-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"pull-right\",\n      tooltip: \"Edit\",\n      onClick: () => openEditModal(user),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \" \", React.createElement(\"i\", {\n      className: \"fa fa-edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      tooltip: \"Delete\",\n      onClick: () => openDeleteModal(user),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \" \", React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }))));\n  })))), userData && userData.length && userData.map((data, k) => {\n    return React.createElement(\"div\", {\n      className: \"feedback-overlay networks-number-overlay show\",\n      id: \"infoModal\",\n      style: {\n        \"display\": \"none\"\n      },\n      key: k,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal_bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"feedback-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"feedback-head feedback-head-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"User Details \"), React.createElement(\"span\", {\n      className: \"feedback-close networks-number-close\",\n      onClick: closeInfoModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"feedback-body body-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Email Address\"), React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      value: data.email,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Phone Number\"), React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      value: data.phone,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })))))));\n  }), React.createElement(\"div\", {\n    className: \"feedback-overlay\",\n    id: \"deleteModal\",\n    style: {\n      \"display\": 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal_bg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"delete-bg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"feedback-head delete-head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"Are you sure you want to delete this user ?\")), React.createElement(\"div\", {\n    className: \"feedback-body text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    value: \"Delete\",\n    onClick: deleteUser,\n    id: \"delete\",\n    className: \"modal-delete\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Yes, Delete\"), React.createElement(\"button\", {\n    type: \"button\",\n    value: \"Cancel\",\n    onClick: closeDeleteModal,\n    className: \"modal-cancel\",\n    id: \"cancel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, \"Cancel\"))))), editUser.map((data, k) => {\n    let user_plan_tree = JSON.parse(JSON.parse(data.user_plan_tree));\n    let price = user_plan_tree ? user_plan_tree.planName == \"Developer\" ? \"Free\" : user_plan_tree.planName == \"Business\" ? \"$99/month\" : \"$999/month\" : 0;\n    return React.createElement(\"div\", {\n      className: \"feedback-overlay networks-number-overlay show\",\n      id: \"editModal\",\n      style: {\n        \"display\": \"none\"\n      },\n      key: k,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal_bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"feedback-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"feedback-head feedback-head-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Update the User \"), React.createElement(\"span\", {\n      className: \"feedback-close networks-number-close\",\n      onClick: closeEditModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"feedback-body body-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Plan Name\"), React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      value: user_plan_tree ? user_plan_tree.planName : 'None',\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Plan price\"), React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      value: price,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Plan Number\"), React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      value: data.plan_number,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Maximum allowed Network\"), React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      value: user_plan_tree ? user_plan_tree.workspace.networks.unmanaged.maximum_allowed_network : 0,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary pull-right\",\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Update\")))))));\n  }), React.createElement(\"div\", {\n    className: \"pagination pull-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }, paginationButtons))))));\n}\n\nexport default User;","map":{"version":3,"sources":["/home/neetu/mindfire-app/mindfire-app/client/src/components/user/User.js"],"names":["React","useState","useEffect","request","makePaginationButtons","Header","Moment","SideNav","toast","User","state","setState","limit","pgno","count","page","setPage","userData","setUserData","deleteUserId","setDeleteUserId","editUser","setEditUser","params","then","res","data","success","user","searchText","e","text","target","value","deleteUser","id","message","closeDeleteModal","window","location","reload","error","catch","err","setPgno","console","log","openInfoModal","user_id","document","getElementById","style","display","closeInfoModal","openDeleteModal","item","openEditModal","closeEditModal","paginationButtons","Math","ceil","map","i","f_name","l_name","country","sortname","org_name","creation_date","format","color","length","k","email","phone","user_plan_tree","JSON","parse","price","planName","plan_number","workspace","networks","unmanaged","maximum_allowed_network","textAlign"],"mappings":"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","sourcesContent":["import React , {useState,useEffect}  from 'react'\nimport request from '../../utils/request'\nimport {makePaginationButtons} from '../../utils/utils'\nimport Header from '../header/Header'\nimport Moment from 'moment'\nimport SideNav from '../sideNav/SideNav'\nimport {toast} from 'react-toastify';\n\nfunction User(){\n  let [state,setState] = useState([])\n  let [page,setPage] = useState({limit:10,pgno:1,count:0 })\n  let [userData, setUserData] = useState({})\n  let [deleteUserId, setDeleteUserId] = useState('')\n  let [editUser, setEditUser] = useState([])\n\n  useEffect(()=>{\n    request('GET','/auth/getUser', {\n        params: {\n          limit:page.limit,pgno:page.pgno\n        }\n      }).then(res=>{\n        if(res.data.success){\n        setState(res.data.user)\n        setPage({...page,count:res.data.count})\n      }\n    })\n  }, [setState,page.pgno, page.limit])\n\n  function searchText(e){\n    request('GET','/auth/getUserWithSearch', {\n        params: {\n          text:e.target.value,\n          limit:10,pgno:1\n        }\n      }).then(res=>{\n      if(res.data.success){\n        setState(res.data.user)\n      }\n    })\n  }\n\n  const deleteUser = () => {\n    request('DELETE', '/auth/deleteUser',{\n      params: {\n        id: deleteUserId\n      }\n    }).then(res => {\n      if(res.data.success) {\n        toast.success(res.data.message);\n        closeDeleteModal();\n        window.location.reload();\n      } else {\n        toast.error(res.data.message);\n      }\n    }).catch(err => toast.error(err))\n  }\n\n  function setPgno(pgno){\n    setPage({...page, pgno})\n  }\n\n  console.log(\"userData\",userData,\"state\",state, \"deleteUserId\", deleteUserId)\n  const openInfoModal = data => {\n    request('POST', '/auth/getUserMoreData', {\n      params: {\n        id: data.user_id\n      }\n    }).then(res => {\n      setUserData(res.data.user)\n      document.getElementById(\"infoModal\").style.display = \"block\";\n    })\n  }\n\n  const closeInfoModal = () => {\n    document.getElementById(\"infoModal\").style.display = \"none\";\n  }\n\n  const openDeleteModal = item => {\n    setDeleteUserId(item.user_id)\n    document.getElementById(\"deleteModal\").style.display = \"block\";\n  }\n\n  const closeDeleteModal = () => {\n    document.getElementById(\"deleteModal\").style.display = \"none\";\n  }\n\n  const openEditModal = item => {\n    request('POST', '/auth/getUserMoreData', {\n      params: {\n        id: item.user_id\n      }\n    }).then(res => {\n      setEditUser(res.data.user)\n      document.getElementById(\"editModal\").style.display = \"block\";\n    })\n  }\n\n  const closeEditModal = () => {\n    document.getElementById(\"editModal\").style.display = \"none\";\n  }\nlet paginationButtons = page.count?makePaginationButtons(Math.ceil(page.count/page.limit), page.pgno, setPgno):[]\n\n return(<>\n   <Header></Header>\n   <SideNav />\n       <main>\n        <div className=\"cover\" id=\"tab_1\">\n          <div className=\"left-side free-product-list full-width db-network_deployed menu-network-deployed\">\n            <div className=\"title-box title-dev\">\n              <h2>Manage User</h2>\n              <div className=\"market-form market-form-right\">\n                <button><img src=\"/static/images/search.svg\" alt=\"Search\" /></button>\n                <input type=\"text\" onChange={(e)=>{searchText(e)}} placeholder=\"Search\" className=\"form-control\" />\n              </div>\n            </div>\n            <div className=\"table-section mt-3 p-2\">\n              <div className=\"data-table\">\n                <table className=\"table table-bordered\" cellSpacing={0}>\n                  <thead>\n                    <tr role=\"row\">\n                      <th>Name</th>\n                      <th>Country</th>\n                      <th className=\"text-center\">Organisation Name</th>\n                      <th className=\"text-center\">Subscription Plan</th>\n                      <th className=\"text-center\">Created Date</th>\n                      <th className=\"text-center\">Info</th>\n                      <th className=\"text-center\" colSpan={2}>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {\n                    state.map((user,i)=>{\n                      return <tr key={i}>\n                      <td>{user.f_name + ' ' + user.l_name}</td>\n                      <td>\n                        <span className=\"logo-icon\" tooltip={user.country}>\n                          <img src={`https://www.countryflags.io/${user.sortname}/flat/64.png`} className=\"img-responsive ml-1\" alt={'Flag of '+ user.country}></img>\n                        </span>\n                      </td>\n                        <td className=\"text-center\" >{user.org_name}</td>\n                        <td className=\"text-center\" >{user.org_name}</td>\n                        <td className=\"text-center\">{Moment(user.creation_date).format('DD-MM-YYYY')}</td>\n                        <td className=\"text-center\"><button className=\"btn-sm\"  tooltip=\"Click for Information\"  onClick={() => openInfoModal(user)} ><i className=\"fa fa-info-circle\"></i></button></td>\n                        <td className=\"text-center\"><button className=\"pull-right\" tooltip=\"Edit\" onClick={() => openEditModal(user)}> <i className=\"fa fa-edit\" /></button>\n                        <button tooltip=\"Delete\" onClick={() => openDeleteModal(user)}> <i className=\"fa fa-trash\" style={{color:\"red\"}} /></button></td>\n                      </tr>\n                    })\n                  }\n                  </tbody>\n                </table>\n              </div>\n\n                {/* Info Modal */}\n              {\n                userData && userData.length && userData.map((data, k) => {\n                  return (\n                           <div className=\"feedback-overlay networks-number-overlay show\" id=\"infoModal\" style={{\"display\":\"none\"}}  key={k}>\n                             <div className=\"modal_bg\">\n                               <div className=\"feedback-bg\">\n                                  <div className=\"feedback-head feedback-head-custom\">\n                                    <h3>User Details </h3><span className=\"feedback-close networks-number-close\" onClick={closeInfoModal}></span>\n                                  </div>\n                                  <div className=\"feedback-body body-custom\">\n                                    <div className=\"row form-group\">\n                                      <label className=\"col-md-12\">Email Address</label>\n                                      <div className=\"col-md-12\">\n                                        <input className=\"form-control\" value={data.email} disabled />\n                                      </div>\n                                    </div>\n                                    <div className=\"row form-group\">\n                                      <label className=\"col-md-12\">Phone Number</label>\n                                      <div className=\"col-md-12\">\n                                        <input className=\"form-control\" value={data.phone} disabled />\n                                      </div>\n                                    </div>\n                                  </div>\n                               </div>\n                             </div>\n                           </div>\n                         )\n                })\n              }\n\n              {/* Delete Modal */}\n              {\n                <div className=\"feedback-overlay\" id=\"deleteModal\" style={{\"display\": 'none'}}>\n                  <div className=\"modal_bg\">\n                      <div className=\"delete-bg\">\n                          <div className=\"feedback-head delete-head\">\n                              <h3>Are you sure you want to delete this user ?</h3>\n                          </div>\n                          <div className=\"feedback-body text-center\">\n                              <button type=\"button\" value=\"Delete\" onClick={deleteUser} id=\"delete\" className=\"modal-delete\">Yes, Delete</button>\n                              <button type=\"button\" value=\"Cancel\" onClick={closeDeleteModal} className=\"modal-cancel\" id=\"cancel\">Cancel</button>\n                          </div>\n                      </div>\n                  </div>\n                </div>\n              }\n\n              {/* Edit User Modal */}\n              {\n                editUser.map((data, k) => {\n                  let user_plan_tree = JSON.parse(JSON.parse(data.user_plan_tree)) \n                  let price = user_plan_tree ? (user_plan_tree.planName == \"Developer\" ? \"Free\" : user_plan_tree.planName == \"Business\" ? \"$99/month\" : \"$999/month\"):0\n                  return (\n                           <div className=\"feedback-overlay networks-number-overlay show\" id=\"editModal\" style={{\"display\":\"none\"}} key={k}>\n                             <div className=\"modal_bg\">\n                               <div className=\"feedback-bg\">\n                                  <div className=\"feedback-head feedback-head-custom\">\n                                   <h3>Update the User </h3><span className=\"feedback-close networks-number-close\" onClick={closeEditModal}></span>\n                                 </div>\n                                       <div className=\"feedback-body body-custom\">\n                                         <div className=\"row form-group\">\n                                           <label className=\"col-md-12\">Plan Name</label>\n                                           <div className=\"col-md-12\">\n                                             <input className=\"form-control\" value={user_plan_tree?user_plan_tree.planName:'None'} disabled />\n                                           </div>\n                                         </div>\n                                         <div className=\"row form-group\">\n                                           <label className=\"col-md-12\">Plan price</label>\n                                           <div className=\"col-md-12\">\n                                             <input className=\"form-control\" value={price} disabled />\n                                           </div>\n                                         </div>\n                                         <div className=\"row form-group\">\n                                           <label className=\"col-md-12\">Plan Number</label>\n                                           <div className=\"col-md-12\">\n                                             <input className=\"form-control\" value={data.plan_number} disabled />\n                                           </div>\n                                         </div>\n                                         <div className=\"row form-group\">\n                                            <label className=\"col-md-12\">Maximum allowed Network</label>\n                                            <div className=\"col-md-12\">\n                                              <input className=\"form-control\" value={user_plan_tree?user_plan_tree.workspace.networks.unmanaged.maximum_allowed_network:0} disabled />\n\n                                            </div>\n                                          </div>\n                                          <div className=\"form-row\">\n                                            <div className=\"form-group col-md-7\">\n                                              <button className=\"btn btn-primary pull-right\" style={{textAlign: 'center'}}>Update</button>\n                                            </div>\n                                          </div>\n                                       </div>\n\n\n                               </div>\n                             </div>\n                           </div>\n                  )\n                })\n              }\n\n\n              {/* <div className=\"pull-left\">Showing {1} to {page.limit} of {page.count} entries</div> */}\n                <div className=\"pagination pull-right\">\n                {\n                    paginationButtons\n                }\n                </div>\n            </div>\n          </div>\n        </div>\n      </main>\n      </>\n )\n}\n\nexport default User\n"]},"metadata":{},"sourceType":"module"}