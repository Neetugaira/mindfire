{"ast":null,"code":"import _objectSpread from \"/home/neetu/mindfire-app/mindfire-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nimport config from '../config/config';\nimport { toast } from 'react-toastify';\nimport { logout } from './checkToken';\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n/*Parameters\n* method: get post delete\n* path: eg /getUserDetails\n* config: check axios documentation\n*/\n\nexport default function request(method, path, options = {}) {\n  return axios(_objectSpread({\n    method,\n    url: config.webhost + config.webport + path,\n    responseType: 'json'\n  }, options)).then(res => {\n    if (res.data.success) {\n      return res;\n    } else if (!res.data.tokenSuccess) {\n      logout();\n      toast.error(res.data.message);\n      window.location = \"/\";\n    } else {\n      return;\n    }\n  }).catch(e => {\n    if (e.response && e.response.status === 401) {\n      window.location = '/';\n      toast.error(e.response);\n    } else {\n      return e;\n    }\n  });\n}","map":{"version":3,"sources":["/home/neetu/mindfire-app/mindfire-app/client/src/utils/request.js"],"names":["axios","config","toast","logout","defaults","headers","common","request","method","path","options","url","webhost","webport","responseType","then","res","data","success","tokenSuccess","error","message","window","location","catch","e","response","status"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,SAASC,MAAT,QAAuB,cAAvB;AAEAH,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgD,kBAAhD;AAGA;;;;;;AAMA,eAAe,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,IAAzB,EAA+BC,OAAO,GAAG,EAAzC,EAA6C;AAC1D,SAAOV,KAAK;AACVQ,IAAAA,MADU;AAEVG,IAAAA,GAAG,EAAEV,MAAM,CAACW,OAAP,GAAiBX,MAAM,CAACY,OAAxB,GAAkCJ,IAF7B;AAGVK,IAAAA,YAAY,EAAE;AAHJ,KAIPJ,OAJO,EAAL,CAKJK,IALI,CAKEC,GAAD,IAAS;AACf,QAAGA,GAAG,CAACC,IAAJ,CAASC,OAAZ,EAAqB;AACnB,aAAOF,GAAP;AACD,KAFD,MAEO,IAAG,CAACA,GAAG,CAACC,IAAJ,CAASE,YAAb,EAA2B;AAChChB,MAAAA,MAAM;AACND,MAAAA,KAAK,CAACkB,KAAN,CAAYJ,GAAG,CAACC,IAAJ,CAASI,OAArB;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD,KAJM,MAIA;AACL;AACD;AACF,GAfM,EAeJC,KAfI,CAeGC,CAAD,IAAO;AACd,QAAIA,CAAC,CAACC,QAAF,IAAcD,CAAC,CAACC,QAAF,CAAWC,MAAX,KAAsB,GAAxC,EAA4C;AAC1CL,MAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACArB,MAAAA,KAAK,CAACkB,KAAN,CAAYK,CAAC,CAACC,QAAd;AACD,KAHD,MAGO;AACL,aAAOD,CAAP;AACD;AACF,GAtBM,CAAP;AAuBD","sourcesContent":["import axios from 'axios'\nimport config from '../config/config'\nimport {toast} from 'react-toastify';\nimport { logout } from './checkToken';\n\naxios.defaults.headers.common['Content-Type'] = 'application/json'\n\n\n/*Parameters\n* method: get post delete\n* path: eg /getUserDetails\n* config: check axios documentation\n*/\n\nexport default function request(method, path, options = {}) {\n  return axios({\n    method,\n    url: config.webhost + config.webport + path,\n    responseType: 'json',\n    ...options,\n  }).then((res) => {\n    if(res.data.success) {\n      return res;\n    } else if(!res.data.tokenSuccess) {\n      logout();\n      toast.error(res.data.message);\n      window.location = \"/\";\n    } else {\n      return;\n    }\n  }).catch((e) => {\n    if (e.response && e.response.status === 401){\n      window.location = '/';\n      toast.error(e.response);\n    } else {\n      return e\n    }\n  })\n}\n"]},"metadata":{},"sourceType":"module"}