{"ast":null,"code":"import _objectSpread from \"/home/neetu/mindfire-app/mindfire-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/neetu/mindfire-app/mindfire-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/neetu/mindfire-app/mindfire-app/client/src/components/login/Login.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport request from '../../utils/request';\nimport { toast } from 'react-toastify';\n\nfunction Login({\n  history\n}) {\n  let _useState = useState({\n    email: '',\n    password: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      loginData = _useState2[0],\n      setLoginData = _useState2[1];\n\n  let _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      err_email = _useState4[0],\n      setErr_email = _useState4[1];\n\n  let _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      emailValid = _useState6[0],\n      setEmailValid = _useState6[1];\n\n  let _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      err_password = _useState8[0],\n      setErr_password = _useState8[1];\n\n  const handelChange = event => setLoginData(_objectSpread({}, loginData, {\n    [event.target.name]: event.target.value\n  })); // const validateForm = () => {\n  //   setEmailValid(true);\n  //   let isFormValid = true;\n  //\n  //   if(loginData.email === '') {\n  //     setEmailValid(true);\n  //     isFormValid =false;\n  //    setErr_email(\"*Please enter your Email-ID.\");\n  //   }\n  //   if (loginData.email !== '') {\n  //     //regular expression for email validation\n  //     var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n  //     if (!pattern.test(loginData.email)) {\n  //       setEmailValid(false);\n  //       isFormValid =false;\n  //       setErr_email(\"*Please enter valid Email-ID.\");\n  //     }\n  //   }\n  //\n  //   if(loginData.password === '') {\n  //     isFormValid =false;\n  //    setErr_password(\"*Please enter your Password.\");\n  //   }\n  //   return isFormValid;\n  // }\n\n\n  const submit = () => {\n    // if(isValid) {\n    let credentials = {\n      email: loginData.email,\n      password: loginData.password\n    };\n    request('POST', '/auth/login', {\n      data: credentials\n    }).then(res => {\n      console.log(\"<<<<<<vvvv\", res);\n      debugger;\n\n      if (res.data.success) {\n        let currentUser = res.data.user;\n        localStorage.setItem(\"auth_token\", res.data.token);\n        localStorage.setItem('currentUser', JSON.stringify(currentUser));\n        toast.success(res.data.message);\n        history.push('/dashboard');\n      } else {\n        toast.error(res.data.message);\n      }\n    }); // }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"login log-screen\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"log-in\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Zeeve Login\"), React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Email ID\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    onChange: handelChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    onChange: handelChange,\n    name: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Login\")))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/neetu/mindfire-app/mindfire-app/client/src/components/login/Login.js"],"names":["React","useState","Link","request","toast","Login","history","email","password","loginData","setLoginData","err_email","setErr_email","emailValid","setEmailValid","err_password","setErr_password","handelChange","event","target","name","value","submit","credentials","data","then","res","console","log","success","currentUser","user","localStorage","setItem","token","JSON","stringify","message","push","error"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport request from '../../utils/request';\nimport {toast} from 'react-toastify';\n\nfunction Login({history}) {\n  let [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  })\n  let [err_email,  setErr_email] = useState('')\n  let [emailValid, setEmailValid] = useState(false);\n  let [err_password,  setErr_password] = useState('')\n\n  const handelChange = event => setLoginData({ ...loginData, [event.target.name]: event.target.value })\n\n  // const validateForm = () => {\n  //   setEmailValid(true);\n  //   let isFormValid = true;\n  //\n  //   if(loginData.email === '') {\n  //     setEmailValid(true);\n  //     isFormValid =false;\n  //    setErr_email(\"*Please enter your Email-ID.\");\n  //   }\n  //   if (loginData.email !== '') {\n  //     //regular expression for email validation\n  //     var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n  //     if (!pattern.test(loginData.email)) {\n  //       setEmailValid(false);\n  //       isFormValid =false;\n  //       setErr_email(\"*Please enter valid Email-ID.\");\n  //     }\n  //   }\n  //\n  //   if(loginData.password === '') {\n  //     isFormValid =false;\n  //    setErr_password(\"*Please enter your Password.\");\n  //   }\n  //   return isFormValid;\n  // }\n  const submit = () => {\n      // if(isValid) {\n        let credentials = {\n          email: loginData.email,\n          password: loginData.password\n        }\n        request('POST', '/auth/login', {\n          data: credentials\n        }).then(res => {\n          console.log(\"<<<<<<vvvv\", res)\n          debugger\n          if (res.data.success) {\n            let currentUser = res.data.user;\n            localStorage.setItem(\"auth_token\",res.data.token)\n            localStorage.setItem('currentUser', JSON.stringify(currentUser));\n            toast.success(res.data.message);\n            history.push('/dashboard')\n          } else {\n            toast.error(res.data.message);\n          }\n        })\n      // }\n  }\n  return (\n    <>\n    <div className=\"login log-screen\">\n      <div>\n        <div className=\"log-in\">\n          <div className=\"card-header\">Zeeve Login</div>\n          {/* <div className={'form-group' + (submitted && !username ? ' has-error' : '')}> */}\n          <label htmlFor=\"username\">Email ID</label>\n          <input type=\"text\" name=\"email\" onChange={handelChange} />\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\" className=\"form-control\" onChange={handelChange} name=\"password\" />\n          <button type=\"submit\" onClick={submit}>Login</button>\n          {/*<span className=\"psw\" data-toggle=\"modal\" data-target=\"#popstats1\"><a href=\"/auth/forgotPassword\">Forgot Password ?</a></span>*/}\n        </div>\n      </div>\n    </div>\n    </>\n  )\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}