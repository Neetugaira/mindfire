{"ast":null,"code":"import _slicedToArray from \"/home/neetu/mindfire-app/mindfire-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/neetu/mindfire-app/mindfire-app/client/src/components/dashboard/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport request from '../../utils/request';\nimport Header from '../header/Header';\nimport Search from './search';\nimport ListFilter from './filter';\nimport List from './news';\n\nfunction Dashboard() {\n  let _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      filterData = _useState2[0],\n      setFilterData = _useState2[1];\n\n  let _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newsData = _useState4[0],\n      setNewsData = _useState4[1];\n\n  let _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      parameters = _useState6[0],\n      setParameters = _useState6[1];\n\n  let _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      agencyData = _useState8[0],\n      setAgencyData = _useState8[1];\n\n  let _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      searchData = _useState10[0],\n      setSearchData = _useState10[1];\n\n  let _useState11 = useState(1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      agencyName = _useState12[0],\n      setAgencyName = _useState12[1];\n\n  useEffect(() => {\n    console.log(\"setParameters\", parameters); // localStorage.setItem('agency',agencyName);\n\n    var user = JSON.parse(localStorage.getItem('currentUser'));\n    user.agency = agencyName;\n    localStorage.setItem('currentUser', JSON.stringify(user));\n    console.log('>>>..hjgjgjh', user);\n    request('GET', \"/getAgencyData?agency_id=\".concat(agencyName)).then(respAgency => {\n      if (respAgency.data.success) {\n        setAgencyData(respAgency.data.agency);\n      }\n    });\n    request('GET', '/getFilterData').then(resp => {\n      if (resp.data.success) {\n        setFilterData(resp.data.filters);\n      }\n    }); // poll\n\n    const interval = setInterval(() => {\n      console.log('This will run every second!');\n      request('GET', \"/getNewsData?category_id=\".concat(parameters, \"&agency_id=\").concat(agencyName, \"&search=\").concat(searchData)).then(respNews => {\n        if (respNews.data.success) {\n          setNewsData(respNews.data.news);\n        }\n      });\n    }, 1000);\n    return () => clearInterval(interval); // poll\n  }, [parameters, searchData, agencyName]);\n  console.log('>>>>>njmh');\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"d-flex border-bottom supply-bg p-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"my-panel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    onClick: () => {\n      setAgencyName(1);\n    },\n    className: agencyName === 1 ? \"active\" : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-newspaper-o\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), \"Times of India\"), React.createElement(\"li\", {\n    onClick: () => {\n      setAgencyName(2);\n    },\n    className: agencyName === 2 ? \"active\" : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-newspaper-o\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), \"The Hindu\")))), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"section-filter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"col-md-6 market-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, agencyName === 1 ? \"THE TIMES OF INDIA\" : 'THE HINDU')), React.createElement(\"div\", {\n    className: \"market-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Search, {\n    searchData: searchData,\n    setSearchData: setSearchData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-md-6 text-right pt-4 market-left-deploy\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: agencyName === 1 ? \"/static/images/times.jpg\" : \"/static/images/the-hindu.jpeg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: \"/static/images/market-place-dark.svg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(ListFilter, {\n    filterData: filterData,\n    parameters: parameters,\n    setParameters: setParameters,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(List, {\n    setNewsData: setNewsData,\n    newsData: newsData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })))));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/neetu/mindfire-app/mindfire-app/client/src/components/dashboard/index.js"],"names":["React","useState","useEffect","request","Header","Search","ListFilter","List","Dashboard","filterData","setFilterData","newsData","setNewsData","parameters","setParameters","agencyData","setAgencyData","searchData","setSearchData","agencyName","setAgencyName","console","log","user","JSON","parse","localStorage","getItem","agency","setItem","stringify","then","respAgency","data","success","resp","filters","interval","setInterval","respNews","news","clearInterval"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport request from '../../utils/request';\nimport Header from '../header/Header';\nimport Search from './search';\nimport ListFilter from './filter';\nimport List from './news';\nfunction Dashboard() {\n let[filterData, setFilterData] = useState([])\n let [newsData, setNewsData] = useState([])\n let [parameters, setParameters] = useState('')\n let [agencyData, setAgencyData] = useState({})\n let [searchData , setSearchData] = useState('')\n let [agencyName , setAgencyName] = useState(1)\n  useEffect(() =>{\n    console.log(\"setParameters\", parameters)\n    // localStorage.setItem('agency',agencyName);\n    var  user = JSON.parse(localStorage.getItem('currentUser'))\n    user.agency = agencyName\n    localStorage.setItem('currentUser', JSON.stringify(user));\n    console.log('>>>..hjgjgjh', user)\n    request('GET', `/getAgencyData?agency_id=${agencyName}`).then((respAgency)=>{\n       if(respAgency.data.success){\n          setAgencyData(respAgency.data.agency)\n       }\n    })\n    request('GET', '/getFilterData').then((resp)=>{\n       if(resp.data.success){\n          setFilterData(resp.data.filters)\n       }\n    })\n    // poll\n    const interval = setInterval(() => {\n       console.log('This will run every second!');\n       request('GET', `/getNewsData?category_id=${parameters}&agency_id=${agencyName}&search=${searchData}`).then((respNews)=>{\n          if(respNews.data.success){\n             setNewsData(respNews.data.news)\n          }\n       })\n  }, 1000);\nreturn () => clearInterval(interval);\n// poll\n},[parameters, searchData, agencyName])\n\n  console.log('>>>>>njmh', )\n  return(\n    <>\n    <div className=\"d-flex border-bottom supply-bg p-0\">\n   <div className=\"container\">\n      <ul className=\"my-panel\">\n\n         <li onClick={()=>{setAgencyName(1)}} className={agencyName === 1?\"active\":''}><i className=\"fa fa-newspaper-o\"/>Times of India</li>\n         <li onClick={()=>{setAgencyName(2)}} className={agencyName === 2?\"active\":''}><i className=\"fa fa-newspaper-o\"  />The Hindu</li>\n      </ul>\n   </div>\n</div>\n   <div className=\"container\">\n      <div className=\"col-md-12\">\n         <div className=\"row\">\n         <div className=\"section-filter\">\n     </div>\n            <div className=\"col-md-6 market-left\">\n               <h2><b>{agencyName ===1?\"THE TIMES OF INDIA\":'THE HINDU'}</b></h2>\n               <div className=\"market-form\">\n                  <Search  searchData={searchData} setSearchData={setSearchData}/>\n                 </div>\n            </div>\n            <div className=\"col-md-6 text-right pt-4 market-left-deploy\"><img src={agencyName === 1?\"/static/images/times.jpg\":\"/static/images/the-hindu.jpeg\"} /><img src=\"/static/images/market-place-dark.svg\" /></div>\n         </div>\n         <div className=\"row mt-4\">\n            <ListFilter filterData={filterData} parameters={parameters} setParameters={setParameters}/>\n            <List setNewsData={setNewsData} newsData={newsData}/>\n         </div>\n      </div>\n   </div></>)\n}\n\nexport default Dashboard\n"]},"metadata":{},"sourceType":"module"}